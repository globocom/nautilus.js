!function(a,b){a.nautilus=b}(this,function(){function a(b,c){function d(){h.incr(c)}function e(){"complete"===k.readyState&&d()}function f(){console.warn("[nautilus] occurred an error while fetching",j),l&&a({origins:i.slice(1),path:j},c)}var i=b.origins,j=b.path,k=document.createElement("script"),l=i.length>0&&!g.isAbsoluteURL(j);k.type="text/javascript",k.onload=d,k.async=!0,k.onreadystatechange=e,k.onerror=f,k.src=l?i[0]+j:j,document.head.appendChild(k)}function b(a){c.apply(this,a)}function c(){var c=Array.prototype.slice.call(arguments),d=c[0];"string"==typeof d&&(d=[d]),g.isArray(c[1])&&(c[1]=b.bind(this,c.slice(1,c.length)));for(var i=h.push(d.length,c[1]),j=0;j<d.length;j++){var k=d[j];a({origins:f,path:e[k]||k},i)}}var d=Object.prototype.hasOwnProperty,e={},f=[],g={"extends":function(a,b,c){for(var e in b)d.call(b,e)&&("constructor"===e&&a===global||(void 0===b[e]?delete a[e]:c&&"undefined"!=typeof a[e]||(a[e]=b[e])));return a},merge:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},isAbsoluteURL:function(a){return/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)}},h={queues:[],push:function(a,b){return this.queues.push({paths:a,loaded:0,exec:b}),this.queues.length-1},incr:function(a){var b=this.queues[a];b.loaded+=1,b.paths<=b.loaded&&"function"==typeof b.exec&&b.exec()},reset:function(){this.queues=[]}};return this.config=function(a){g.isArray(a.origins)&&(f=f.concat(a.origins)),"object"==typeof a.paths&&(e=g.merge(e,a.paths))},this.getConfig=function(){return{origins:f,paths:e}},this.resetConfig=function(){f=[],e={},h.reset()},g["extends"](c.bind(this),this)}());